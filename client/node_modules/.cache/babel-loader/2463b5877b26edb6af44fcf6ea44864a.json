{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\Desktop\\\\pizza palace\\\\PizzaPalace\\\\client\\\\src\\\\components\\\\Product.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { Link } from 'react-router-dom';\nimport Card from 'react-bootstrap/Card';\nimport axios from 'axios';\nimport { Store } from '../Store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Product(props) {\n  _s();\n\n  const {\n    Pizza\n  } = props;\n  const {\n    state,\n    dispatch: ctxDispatch\n  } = useContext(Store);\n  const {\n    cart: {\n      cartItems\n    }\n  } = state;\n\n  const addtoCartHandler = async item => {\n    const existItem = cartItems.find(x => x._id === Pizza._id);\n    const quantity = existItem ? existItem.quantity + 1 : 1;\n    const {\n      data\n    } = await axios.get(`/api/products/${item._id}`);\n\n    if (data.countInStock < quantity) {\n      window.alert('Sorry Product is out of Stock');\n      return;\n    }\n\n    ctxDispatch({\n      type: 'CART_ADD_ITEM',\n      payload: { ...item,\n        quantity\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"product\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${Pizza._id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Pizza.image,\n          alt: Pizza.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/product/${Pizza._id}`,\n          style: {\n            textDecoration: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(Card.Text, {\n            style: {\n              color: 'black'\n            },\n            className: \"text-center\",\n            children: Pizza.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-varient\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Varient\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 37\n            }, this), \":\", Pizza.varients[0]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"Rs \", Pizza.prices]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), Pizza.countInStock === 0 ? /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"light\",\n          className: \"text-center\",\n          disabled: true,\n          children: \"Out of Stock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          className: \"text-center\",\n          onClick: () => addtoCartHandler(Pizza),\n          children: \" Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Product, \"XDbruNh/h18/KyvLzI/kuU/R8wE=\");\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useState","useContext","Button","Link","Card","axios","Store","Product","props","Pizza","state","dispatch","ctxDispatch","cart","cartItems","addtoCartHandler","item","existItem","find","x","_id","quantity","data","get","countInStock","window","alert","type","payload","image","name","textDecoration","color","varients","prices"],"sources":["C:/Users/Admin/OneDrive/Desktop/pizza palace/PizzaPalace/client/src/components/Product.js"],"sourcesContent":["import React, { useState, useContext } from 'react'\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport Card from 'react-bootstrap/Card';\r\nimport axios from 'axios';\r\nimport { Store } from '../Store';\r\n\r\nfunction Product(props) {\r\n    const { Pizza } = props;\r\n    const { state, dispatch: ctxDispatch } = useContext(Store);\r\n    const { cart: { cartItems } } = state; \r\n  \r\n    const addtoCartHandler = async (item) => {\r\n        \r\n        const existItem = cartItems.find((x) => x._id === Pizza._id);\r\n         \r\n        const quantity = existItem ? existItem.quantity + 1 : 1;\r\n\r\n        const { data } = await axios.get(`/api/products/${item._id}`);\r\n\r\n        if (data.countInStock < quantity) {\r\n            window.alert('Sorry Product is out of Stock')\r\n            return;\r\n        }\r\n        ctxDispatch({ type: 'CART_ADD_ITEM', payload: { ...item, quantity } });\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Card className=\"product\">\r\n                <Link to={`/product/${Pizza._id}`}>\r\n                    <img src={Pizza.image} alt={Pizza.name} />\r\n                </Link>\r\n                <Card.Body>\r\n                    <Link to={`/product/${Pizza._id}`} style={{ textDecoration: 'none' }}>\r\n                        <Card.Text style={{ color: 'black', }} className=\"text-center\">{Pizza.name}</Card.Text>\r\n                    </Link>\r\n                    <div className=\"product-varient\">\r\n                        <Card.Text> <span>Varient</span>:{Pizza.varients[0]}</Card.Text>\r\n                        <Card.Text>Rs {Pizza.prices}</Card.Text>\r\n                    </div>\r\n                    {Pizza.countInStock === 0 ?\r\n                        <Button variant=\"light\" className=\"text-center\" disabled >Out of Stock</Button> :\r\n                        <Button variant=\"danger\" className=\"text-center\" onClick={() => addtoCartHandler(Pizza)} > Add to Cart</Button>\r\n                    }\r\n\r\n                </Card.Body>\r\n            </Card>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}